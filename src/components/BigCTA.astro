---
import Button from './Button.astro';

export interface Props {
  title: string;
  subtitle?: string;
  primaryButton: {
    text: string;
    href: string;
    variant?: 'primary' | 'secondary';
  };
  secondaryButton?: {
    text: string;
    href: string;
    variant?: 'outline' | 'ghost';
  };
  background?: 'gradient' | 'glass' | 'solid';
  size?: 'normal' | 'large';
}

const { 
  title, 
  subtitle, 
  primaryButton, 
  secondaryButton,
  background = 'gradient',
  size = 'normal'
} = Astro.props;
---

<section class={`big-cta big-cta-${background} big-cta-${size}`}>
  <div class="big-cta-container">
    <div class="big-cta-content">
      <div class="big-cta-text">
        <h2 class="big-cta-title">{title}</h2>
        {subtitle && (
          <p class="big-cta-subtitle">{subtitle}</p>
        )}
      </div>
      
      <div class="big-cta-actions">
        <Button 
          href={primaryButton.href} 
          variant={primaryButton.variant || 'primary'}
          size="lg"
          icon="↗"
          iconPosition="right"
          className="big-cta-primary-btn"
          ariaLabel={`${primaryButton.text} - Ir a ${primaryButton.href}`}
        >
          {primaryButton.text}
        </Button>
        
        {secondaryButton && (
          <Button 
            href={secondaryButton.href} 
            variant={secondaryButton.variant || 'outline'}
            size="lg"
            className="big-cta-secondary-btn"
            ariaLabel={`${secondaryButton.text} - Ir a ${secondaryButton.href}`}
          >
            {secondaryButton.text}
          </Button>
        )}
      </div>
    </div>
    
    <!-- Elementos decorativos -->
    <div class="big-cta-decoration">
      <div class="decoration-circle decoration-circle-1"></div>
      <div class="decoration-circle decoration-circle-2"></div>
      <div class="decoration-line decoration-line-1"></div>
      <div class="decoration-line decoration-line-2"></div>
    </div>
  </div>
</section>

<style>
  .big-cta {
    position: relative;
    padding: var(--sp-20) 0;
    margin: var(--sp-20) 0;
    border-radius: var(--radius-lg);
    overflow: hidden;
  }
  
  .big-cta-gradient {
    background: linear-gradient(
      135deg,
      rgba(124, 247, 212, 0.1) 0%,
      rgba(155, 140, 255, 0.1) 50%,
      rgba(124, 247, 212, 0.05) 100%
    );
    border: 1px solid var(--border);
  }
  
  .big-cta-glass {
    background: var(--glass);
    border: 1px solid var(--border);
    backdrop-filter: blur(20px);
  }
  
  .big-cta-solid {
    background: var(--bg-soft);
    border: 1px solid var(--border);
  }
  
  .big-cta-large {
    padding: var(--sp-24) 0;
  }
  
  .big-cta-container {
    position: relative;
    max-width: var(--container);
    margin: 0 auto;
    padding: 0 var(--sp-6);
    z-index: 2;
  }
  
  .big-cta-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: var(--sp-8);
  }
  
  .big-cta-text {
    max-width: 600px;
  }
  
  .big-cta-title {
    font-size: var(--fs-h1);
    font-weight: 700;
    color: var(--fg);
    margin-bottom: var(--sp-4);
    line-height: 1.2;
    letter-spacing: -0.02em;
  }
  
  .big-cta-subtitle {
    font-size: var(--fs-body);
    color: var(--fg-dim);
    line-height: 1.6;
    margin: 0;
  }
  
  .big-cta-actions {
    display: flex;
    align-items: center;
    gap: var(--sp-4);
    flex-wrap: wrap;
    justify-content: center;
  }
  
  /* Botones específicos para CTA */
  .big-cta .btn-large {
    padding: var(--sp-4) var(--sp-8);
    font-size: 18px;
    font-weight: 600;
    min-width: 180px;
    justify-content: center;
  }
  
  .big-cta .btn-primary {
    background: linear-gradient(135deg, var(--accent), var(--accent-2));
    color: var(--bg);
    border: none;
    box-shadow: 
      0 4px 20px rgba(124, 247, 212, 0.3),
      0 0 0 1px rgba(124, 247, 212, 0.2);
  }
  
  .big-cta .btn-primary:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 
      0 8px 30px rgba(124, 247, 212, 0.4),
      0 0 0 1px rgba(124, 247, 212, 0.3),
      0 0 40px rgba(124, 247, 212, 0.2);
  }
  
  .big-cta .btn-outline {
    background: transparent;
    color: var(--accent);
    border: 2px solid var(--accent);
  }
  
  .big-cta .btn-outline:hover {
    background: var(--accent);
    color: var(--bg);
    transform: translateY(-2px) scale(1.02);
  }
  
  .big-cta .btn-ghost {
    background: transparent;
    color: var(--fg);
    border: 2px solid var(--border);
  }
  
  .big-cta .btn-ghost:hover {
    background: var(--glass);
    border-color: var(--accent);
    color: var(--accent);
    transform: translateY(-2px);
  }
  
  /* Decoración de fondo */
  .big-cta-decoration {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 1;
  }
  
  .decoration-circle {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent), var(--accent-2));
    opacity: 0.1;
    filter: blur(1px);
  }
  
  .decoration-circle-1 {
    width: 200px;
    height: 200px;
    top: -100px;
    right: -100px;
    animation: float 6s ease-in-out infinite;
  }
  
  .decoration-circle-2 {
    width: 150px;
    height: 150px;
    bottom: -75px;
    left: -75px;
    animation: float 8s ease-in-out infinite reverse;
  }
  
  .decoration-line {
    position: absolute;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    opacity: 0.2;
    height: 1px;
  }
  
  .decoration-line-1 {
    top: 30%;
    left: 0;
    right: 0;
    animation: shimmer 4s ease-in-out infinite;
  }
  
  .decoration-line-2 {
    bottom: 30%;
    left: 0;
    right: 0;
    animation: shimmer 4s ease-in-out infinite 2s;
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
    }
  }
  
  @keyframes shimmer {
    0%, 100% {
      opacity: 0.1;
      transform: scaleX(0.5);
    }
    50% {
      opacity: 0.3;
      transform: scaleX(1);
    }
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .big-cta {
      padding: var(--sp-16) 0;
      margin: var(--sp-16) 0;
    }
    
    .big-cta-large {
      padding: var(--sp-20) 0;
    }
    
    .big-cta-container {
      padding: 0 var(--sp-4);
    }
    
    .big-cta-content {
      gap: var(--sp-6);
    }
    
    .big-cta-actions {
      flex-direction: column;
      width: 100%;
    }
    
    .big-cta .btn-large {
      width: 100%;
      min-width: auto;
    }
    
    .decoration-circle-1 {
      width: 120px;
      height: 120px;
      top: -60px;
      right: -60px;
    }
    
    .decoration-circle-2 {
      width: 100px;
      height: 100px;
      bottom: -50px;
      left: -50px;
    }
  }
  
  /* Desactivar animaciones si está configurado */
  @media (prefers-reduced-motion: reduce) {
    .decoration-circle,
    .decoration-line {
      animation: none;
    }
    
    .big-cta .btn:hover {
      transform: none;
    }
  }
</style>