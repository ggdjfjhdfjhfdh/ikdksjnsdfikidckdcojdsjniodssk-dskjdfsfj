class t{constructor(){this.canvas=null,this.ctx=null,this.waves=[],this.floatingElements=[],this.mouse={x:0,y:0},this.animationId=null,this.time=0,this.init()}init(){this.setupCanvas(),this.createWaves(),this.createFloatingElements(),this.setupEventListeners(),this.animate()}setupCanvas(){this.canvas=document.createElement("canvas"),this.canvas.id="hero-advanced-effects",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.pointerEvents="none",this.canvas.style.zIndex="1";const t=document.querySelector(".hero"),e=t?.querySelector(".hero-bg");e&&(e.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.resize())}resize(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight)}createWaves(){this.waves=[{amplitude:30,frequency:.01,speed:.02,offset:0,color:"rgba(124, 247, 212, 0.1)",y:.3*window.innerHeight},{amplitude:20,frequency:.015,speed:-.015,offset:Math.PI,color:"rgba(155, 140, 255, 0.08)",y:.7*window.innerHeight},{amplitude:25,frequency:.008,speed:.025,offset:Math.PI/2,color:"rgba(59, 130, 246, 0.06)",y:.5*window.innerHeight}]}createFloatingElements(){const t=["🔒","🛡️","🔐","⚡","🌐","💻","🔑","⭐"],e=["SSL","AES","RSA","SHA","TLS","VPN","API","JWT"];this.floatingElements=[];for(let s=0;s<15;s++){const s=Math.random()>.5;this.floatingElements.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,vx:.3*(Math.random()-.5),vy:.3*(Math.random()-.5),content:s?t[Math.floor(Math.random()*t.length)]:e[Math.floor(Math.random()*e.length)],isSymbol:s,size:10*Math.random()+8,opacity:.3*Math.random()+.1,rotation:Math.random()*Math.PI*2,rotationSpeed:.02*(Math.random()-.5)})}}setupEventListeners(){window.addEventListener("resize",()=>{this.resize(),this.createWaves()}),document.addEventListener("mousemove",t=>{this.mouse.x=2*(t.clientX/window.innerWidth-.5),this.mouse.y=2*(t.clientY/window.innerHeight-.5),this.applyParallaxEffect()}),window.addEventListener("scroll",()=>{this.applyScrollEffects()})}applyParallaxEffect(){const t=document.querySelectorAll(".geometric-shape"),e=document.querySelectorAll(".light-beam, .light-orb");t.forEach((t,e)=>{const s=.1*(e+1),i=this.mouse.x*s*20,a=this.mouse.y*s*20;t.style.transform=`translate(${i}px, ${a}px)`}),e.forEach((t,e)=>{const s=.05*(e+1),i=this.mouse.x*s*15,a=this.mouse.y*s*15;t.style.transform=`translate(${i}px, ${a}px)`})}applyScrollEffects(){const t=window.scrollY,e=window.innerHeight,s=Math.min(t/e,1),i=document.querySelector(".hero");i&&(i.style.opacity=1-.5*s);const a=document.querySelector(".hero-bg");a&&(a.style.transform=`translateY(${.5*t}px)`)}animate(){this.ctx&&(this.time+=.016,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawWaves(),this.drawFloatingElements(),this.drawMouseEffects(),this.animationId=requestAnimationFrame(()=>this.animate()))}drawWaves(){this.waves.forEach(t=>{this.ctx.beginPath(),this.ctx.strokeStyle=t.color,this.ctx.lineWidth=2;for(let e=0;e<=this.canvas.width;e+=5){const s=t.y+Math.sin(e*t.frequency+this.time*t.speed+t.offset)*t.amplitude;0===e?this.ctx.moveTo(e,s):this.ctx.lineTo(e,s)}this.ctx.stroke()})}drawFloatingElements(){this.floatingElements.forEach(t=>{t.x+=t.vx,t.y+=t.vy,t.rotation+=t.rotationSpeed,(t.x<0||t.x>this.canvas.width)&&(t.vx*=-1),(t.y<0||t.y>this.canvas.height)&&(t.vy*=-1),t.x=Math.max(0,Math.min(this.canvas.width,t.x)),t.y=Math.max(0,Math.min(this.canvas.height,t.y)),this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.rotation),this.ctx.globalAlpha=t.opacity,t.isSymbol?(this.ctx.font=`${t.size}px Arial`,this.ctx.textAlign="center",this.ctx.fillText(t.content,0,0)):(this.ctx.font=`${t.size}px 'JetBrains Mono', monospace`,this.ctx.fillStyle="rgba(124, 247, 212, 0.6)",this.ctx.textAlign="center",this.ctx.fillText(t.content,0,0)),this.ctx.restore()})}drawMouseEffects(){if(!this.mouse.x&&!this.mouse.y)return;const t=(this.mouse.x+1)*this.canvas.width/2,e=(this.mouse.y+1)*this.canvas.height/2,s=50*(Math.sin(2*this.time)+1)+30;this.ctx.beginPath(),this.ctx.arc(t,e,s,0,2*Math.PI),this.ctx.strokeStyle=`rgba(124, 247, 212, ${.3-s/200})`,this.ctx.lineWidth=2,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t,e,.7*s,0,2*Math.PI),this.ctx.strokeStyle=`rgba(155, 140, 255, ${.2-s/300})`,this.ctx.lineWidth=1,this.ctx.stroke()}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}let e=null;function s(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||setTimeout(()=>{document.querySelector(".hero")&&!e&&(e=new t)},100)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),document.addEventListener("astro:before-swap",()=>{e&&(e.destroy(),e=null)}),window.addEventListener("beforeunload",()=>{e&&e.destroy()});export{t as HeroAdvancedEffects};
